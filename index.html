<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Videó Lejátszó</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            background-color: #000;
            height: 100%;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        #videoPlayer {
            max-width: 100%;
            max-height: 100vh;
            width: auto;
            height: auto;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            outline: none;
        }

        #error-msg {
            color: white;
            font-family: sans-serif;
            display: none;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>

    <video id="videoPlayer" controls autoplay name="media">
        A böngésződ nem támogatja a videó lejátszását.
    </video>

    <div id="error-msg">
        <h2>Nincs videó kiválasztva</h2>
        <p>Illeszd be a linket a címsorba így:<br>
        <code>?urls=HTTPS_LINK_ITT</code></p>
    </div>

    <script>
        // --- A MÁGIA ITT TÖRTÉNIK ---
        
        // 1. Lekérjük a teljes címsor URL-t
        const fullUrl = window.location.href;
        
        // 2. Megkeressük az "urls=" szöveget
        const searchKey = "urls=";
        const index = fullUrl.indexOf(searchKey);

        const player = document.getElementById('videoPlayer');
        const errorDiv = document.getElementById('error-msg');

        if (index !== -1) {
            // 3. Levágjuk a stringet az "urls=" utáni résztől a végéig.
            // Ez azért jó, mert így nem zavarják meg a kódot a videó linkjében lévő "&" jelek.
            let videoLink = fullUrl.substring(index + searchKey.length);

            // 4. Tisztítás: Ha esetleg valaki mégis kódolva (URL encoded) illesztette be, dekódoljuk.
            // Ha nem volt kódolva, ez akkor sem rontja el.
            try {
                videoLink = decodeURIComponent(videoLink);
            } catch (e) {
                console.log("Nem volt szükség dekódolásra vagy hiba történt.");
            }

            console.log("Lejátszandó videó:", videoLink);
            player.src = videoLink;

            player.onerror = function() {
                player.style.display = 'none';
                errorDiv.style.display = 'block';
                errorDiv.querySelector('h2').innerText = "Hiba!";
                errorDiv.querySelector('p').innerText = "A videó nem elérhető (lejárt link vagy 403 tiltás).";
            };

        } else {
            player.style.display = 'none';
            errorDiv.style.display = 'block';
        }
    </script>

</body>
</html>
